@page "/gaming-systems/{Name}"
@using RetroPie.Manager.Web.Interfaces
@using RetroPie.Manager.Web.Models.DTOs
@inject IGamingSystemService GamingSystemService
@attribute [StreamRendering]

<PageTitle>Gaming System | RetroPie Manager</PageTitle>


@if (_gamingSystem == null)
{
    <FluentGrid Spacing="3" Justify="JustifyContent.Center">
        <FluentProgressRing Color="Color.Primary" Indeterminate="true" />
    </FluentGrid>
}
else
{
    <h1>@_gamingSystem.Title</h1>

    <FluentGrid Spacing="3" Justify="JustifyContent.Center">
        Files in directory <FluentBadge>3</FluentBadge>
    </FluentGrid>
}

@code
{
    [Parameter]
    public string Name { get; set; } = default!;

    private GamingSystem? _gamingSystem;

    protected override async Task OnInitializedAsync()
    {
        await Task.Delay(500);

        _gamingSystem = await GamingSystemService.GetAsync(Name);
    }
}